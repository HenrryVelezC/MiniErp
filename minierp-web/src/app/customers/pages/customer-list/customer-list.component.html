<h2>Customers</h2>

<div *ngIf="error" style="color:red;">
  {{ error }}
</div>

<ng-container *ngIf="customers$ | async as customers; else loadingTpl">

  <table *ngIf="customers.length > 0" border="1" cellpadding="5">
    <thead>
      <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Phone</th>
        <th>Address</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let customer of customers">
        <td>{{ customer.name }}</td>
        <td>{{ customer.email }}</td>
        <td>{{ customer.phone }}</td>
        <td>{{ customer.address }}</td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="customers.length === 0 && !error">
    No customers found.
  </div>

</ng-container>

<ng-template #loadingTpl>
  <div>Loading customers...</div>
</ng-template>